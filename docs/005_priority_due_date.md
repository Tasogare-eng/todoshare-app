# 005: 優先度・期限機能

## 概要
Todoに優先度と期限を設定し、効率的なタスク管理を実現

## 目的
- タスクの重要度を明確化
- 期限管理によるタスク実行の促進
- 優先順位付けによる効率化

## タスク

### データベース更新
- [ ] Todosテーブルにpriorityカラム追加
- [ ] Todosテーブルにdue_dateカラム追加
- [ ] インデックスの最適化

### バックエンド実装
- [ ] Todoモデルに優先度・期限フィールド追加
- [ ] Pydanticスキーマの更新
- [ ] 優先度別Todo取得API（GET /api/todos?priority=high）
- [ ] 期限別Todo取得API（GET /api/todos?due_date_from=&due_date_to=）
- [ ] 期限切れTodo取得API（GET /api/todos/overdue）
- [ ] 今日のTodo取得API（GET /api/todos/today）
- [ ] 今週のTodo取得API（GET /api/todos/this-week）
- [ ] ソート機能の拡張（優先度・期限ソート）

### フロントエンド実装
- [ ] 優先度選択コンポーネント（高/中/低）
- [ ] 日付ピッカーコンポーネント
- [ ] 時刻選択コンポーネント
- [ ] 優先度インジケーター（色・アイコン）
- [ ] 期限表示コンポーネント
- [ ] 期限切れ警告表示
- [ ] カウントダウン表示（残り日数/時間）
- [ ] Todoリストへの優先度・期限表示追加
- [ ] フィルターに優先度・期限選択追加

### UI/UX
- [ ] 優先度別色分け（高:赤、中:黄、低:緑）
- [ ] 期限切れハイライト
- [ ] 期限が近いTodoの強調表示
- [ ] ドラッグ&ドロップで期限変更（オプション）
- [ ] クイックアクション（今日/明日/来週ボタン）

### バリデーション
- [ ] 期限の未来日付チェック（オプション）
- [ ] 優先度の値チェック（high/medium/low）
- [ ] 期限日付フォーマットチェック

### テスト
- [ ] 優先度・期限関連APIテスト
- [ ] フィルター機能テスト
- [ ] ソート機能テスト
- [ ] 日付ピッカーコンポーネントテスト

## 完了条件
- [ ] Todoに優先度を設定できる
- [ ] Todoに期限を設定できる
- [ ] 優先度別に色分け表示される
- [ ] 期限切れが警告表示される
- [ ] 優先度・期限でフィルター・ソートできる

## 技術詳細
- 日付処理: Day.js（フロント）、datetime（バック）
- タイムゾーン: UTCで保存、ローカルで表示
- 優先度: Enum (high, medium, low)

## 推定工数
2日

## 依存関係
- 003_todo_crud.mdが完了していること

## 備考
- リマインダー通知は後のフェーズで実装
- 繰り返しタスクとの連携を考慮