# 006: 検索・フィルター機能

## 概要
Todoの検索とフィルタリング機能を実装し、必要なタスクを素早く見つけられるようにする

## 目的
- 多数のTodoから必要なものを素早く検索
- 条件に応じた柔軟なフィルタリング
- 直感的な操作性

## タスク

### バックエンド実装
- [ ] 全文検索API（GET /api/todos/search?q=keyword）
- [ ] 複合フィルターAPIの実装
- [ ] 検索クエリのパラメータ処理
- [ ] 検索結果のページネーション
- [ ] 検索パフォーマンス最適化（インデックス）
- [ ] フィルタープリセットAPI（GET /api/todos/filter-presets）

### フロントエンド実装
- [ ] 検索バーコンポーネント
- [ ] リアルタイム検索（debounce付き）
- [ ] フィルターパネルコンポーネント
- [ ] フィルターチップ表示
- [ ] 検索結果ハイライト
- [ ] 検索履歴機能（オプション）
- [ ] 保存済みフィルター機能
- [ ] フィルタークリアボタン

### フィルター条件
- [ ] ステータス（完了/未完了）
- [ ] 優先度（高/中/低）
- [ ] カテゴリ（複数選択可）
- [ ] 期限（今日/今週/今月/期限切れ/カスタム範囲）
- [ ] 作成日（範囲指定）
- [ ] 更新日（範囲指定）

### ソート機能
- [ ] 作成日時（昇順/降順）
- [ ] 更新日時（昇順/降順）
- [ ] 期限（昇順/降順）
- [ ] 優先度（昇順/降順）
- [ ] タイトル（アルファベット順）
- [ ] 複数ソート条件の組み合わせ

### UI/UX
- [ ] 検索バーのプレースホルダー
- [ ] 検索アイコンとクリアボタン
- [ ] フィルター適用数の表示
- [ ] 検索結果件数の表示
- [ ] 「結果がありません」メッセージ
- [ ] フィルターの折りたたみ/展開

### パフォーマンス
- [ ] 検索クエリの最適化
- [ ] インデックスの適切な設定
- [ ] キャッシュの活用
- [ ] ページネーションの最適化

### テスト
- [ ] 検索APIテスト
- [ ] フィルターAPIテスト
- [ ] ソート機能テスト
- [ ] 検索コンポーネントテスト
- [ ] フィルターコンポーネントテスト

## 完了条件
- [ ] キーワードでTodoを検索できる
- [ ] 複数の条件でフィルターできる
- [ ] 検索結果がリアルタイムで表示される
- [ ] ソート機能が動作する
- [ ] フィルターを保存・再利用できる

## 技術詳細
- 全文検索: PostgreSQLのFull Text Search
- リアルタイム検索: Vue 3 watchEffect + debounce
- フィルター状態: URLクエリパラメータ

## 推定工数
2日

## 依存関係
- 003_todo_crud.mdが完了していること
- 004_category_management.mdが完了していること
- 005_priority_due_date.mdが完了していること

## 備考
- 検索履歴はLocalStorageに保存
- フィルタープリセットはユーザーごとに保存